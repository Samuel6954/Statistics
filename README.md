# Statistics
 統計課程

# CH2-0708

#顯示文字，亦可在控制台輸入

#編寫、運行R腳本 <- 可替代成 = 

#套件開起/關閉

#help功能

#刪除變量

#讀取檔案

 - Step1.加載套件

 - Step2.讀取excel

#方法1
  
#方法2

 - 設置工作目錄

 - 讀取文件
  
#檢查數據

#查看數據框內容

#使用 plot() 函數繪製圖形

# CH3-0712
#1.R的資料屬性 

#class查詢

 - character（字符型）

 - numeric（數值型）

 - integer（整數型）

 - complex（複數型）

 - logical（邏輯型）

#常見運算

1. 加減乘除

1. 次方、根號、商數與餘數

1. 判斷正負數或0（正為1，負為-1，0為0）

1. 取絕對值

1. 取log

1. exp 是指計算指數函數的值，自然指數e（約為2.71828）^10

1. logic 邏輯值/布林值

1. 賦值

1. 查詢資料結構

#as.integer 用法

1. 數據清理

1. 數學運算 #計算整數除法商數、餘數

1. 數據類型一致性

#練習 #N114320001_周冠呈

1. 如何將50賦值給X？

1. 如何將X平方？

1. 如何將X開根號？

1. 如何查看X的資料結構？

1. 如何知道X是否為正數？

#作業-將練習完的結果截圖上傳至作業區。


# CH4-0715 向量、因子和列表
#向量

1. 向量的建立

1. 向量的類別

#轉換等級是：character > numeric > logical

#3.賦予向量內元素名字

1. 第一種:建立向量時直接賦予

1. 第二種:之後才賦予

#4.向量的索引

1. 增加元素

1. 減少元素

1. 取代

1. 因子

 1. 因子的建立

 1. 查看因子的類別

#列表

1. 列表的建立

1. 列表的使用

#查詢

#索引

#練習

1. 建立一個名為X的向量，內容依序為個人姓名、年齡、出生年。

1. 在X的最後面加上性別，男FALSE、女為TRUE且刪除出生年。

1. 建立一個列表Y，其中包含向量X及興趣，興趣可為單向或向量。

1. 有一個向量為gender=c("boy","girl","boy")，請將gender轉換為factor型態 並查看有哪些類別。

# CH5-0719 矩陣、陣列

#矩陣

1. 使用 matrix() 函數來建立

1. 建立一個2列3行的矩陣，數據為1到6

1. 建立一個3列2行的矩陣，數據為1到6

1. 以列為主排列數據

1. 更改名稱

#陣列

1. 使用 array() 函數來建立

1. 建立一個3*3*2的三維陣列

1. 更改名稱

#向量、矩陣、陣列、列表之差異

1. 向量（vector）：用於一維且沒有維度屬性

1. 查看向量的長度

1. 矩陣（matrix）：用於二維，有維度屬性，可看成二維陣列

1. 查看矩陣的維度

1. 陣列（array）：可用於所有維度，有維度屬性

1. 列表（list）:列表中的元素可以是任意類型的數據

1. 顯示列表的結構

1. 查詢是否為陣列 使用is.array()

1. 查詢屬性 使用attributes()

#基本運算

1. 以row形式結合2向量

1. 以column形式結合2向量

#索引

#練習
1. 請建立一個2列3行的矩陣(擺放6個資料)，將資料”數字7~12”進行以列為主的排列。

1. 有3個人到了超市買了不同數量的香蕉(以b表示)和蘋果(以a表示):
   #Tom買了5個蘋果和4個香蕉，Mary買了14個蘋果和6個香蕉，Eve買了0個蘋果和0個香蕉(純粹去逛超市的)
   #請建立一個2列3行的矩陣來表示上列的資訊。
1. 將上列(問題2.)的式子改以3列2行表示。
1. 已知向量a(1,2,3,4,5)，向量b(5,4,3,2,1)，請試著用rbind和cbind來結合他們。

# CH6-0722 邏輯控制、迴圈

#邏輯控制-用來判斷式子是否成立

- 大於（>）

- 小於（<）

- 等於（==）

- 不等於（!=）

- 和（&）

- 或（|）

- 反函數（!）

#條件指令

1. if

2. 巢狀if

3. switch-在條件較多時使用
   
	- 首相為條件，後面為須執行之命令

	- 執行命令的條件為等於1.2.3

4. 迴圈

	- for 在設定範圍內重複執行相同的動作

	- break：用來跳出迴圈

	- 當i=5時跳出迴圈，答案只加到5

	- next:用來省略當次迴圈，直接進入下一輪

	- 當i=5時不進行動作直接進入下一圈

	- while：當條件符合時迴圈不斷執行

#練習

1. 輸入( ! ( 5 < 3 ) ) | ( 7 == 25 )後會回傳TRUE還是FALSE？

1. 請問下列程式碼的結果為何？

1. 利用switch()更改上題程式碼。

1. 利用for迴圈計算1~10之間奇數的總和。

1. 利用while迴圈計算1~100之間偶數的總和。


# CH7-0729 資料處理

#何謂dataframe

#1.建立dataframe

- 檢視、修改

#2.命名或重新命名
- 命名變數

- 命名case

#使用dataframe
- 查詢是否為dataframe

- 陣列型態
   
- 列表型態 
 
- 是否為male?
   
- 查詢為Male的資料

- 新增

- 刪除

- 刪除所有變數 


#資料讀取
#1.檔案讀取
1. 不修改R Studio的位置設定

2. 更改R Studio的位置設定

3. 直接讀取資料

#2.讀取資料相關函數

- fread()：與read.table()相似並且更快速方便，可以自動判別sep、nrows等參數

- scan()：從控制台（console）讀取資料並轉為向量（vector）或列表（list）型態


#3. 檔案輸出

#資料操弄

aggregate() #分組合計 x為要進行統計的項目，by為依據項目且必須是list型態FUN為要計算的方法
#分別計算member2中不同性別的年齡總和

#不同性別的年齡平均

#簡便寫法
unique() #在重複性資料中提取每項類別

#練習:
1. 請匯入practice.xlsx並呈現在視窗中。

2. 請將Years to Maturity重新命名為Years。

3. 請找出Company Ticker的所有種類。

4. 計算每種Company Ticker的Yield之平均。


# CH8-0805 dplyr基本操作

#對dplyr進行安裝並載入

- 強化版的str，能更清楚看資料結構

- select( ) : 選取欄位(以行的方向選擇，進行欄位選取)

- mutate( ) : 定義新欄位(可利用既有欄位進行運算創在新欄位)

- filter( ) : 利用條件進行篩選選取欄位(以列的方向篩選)

- 可在 filter 後加上所要篩選的條件

- count( ) : 分類計算數量或加總
1. 直接給予資料框，即可計算資料框的總資料筆數
2. 可在輸入的資料框後面加入所想要的屬性，便可以知道該屬性的資料筆數

- summarise( ) : 計算統計值，進行資料彙總

- %>% : Forward pipe 工作流指令，用來建立資料的工作流，將欲輸入的值放入運算子左邊，把欲丟入的函數放右邊

- group_by( ) : 根據資料框資料進行分群(可以搭配%>%使用)

- arrange( ) : 重新排列資料(升冪排列)

- desc( ) : 降冪排列

- rename( ) : 將欄位進行改名


#作業
1. 請將hw8的excel檔載入
2. 計算資料筆數
3. 試問不同的城市的人數並將CITY欄位改成小寫city
4.請選出年紀(AGE)最小的六個人的資料以及年紀最大的六個人的資料
  #(提示:可合併運用arrange和head功能或是使用%>%工作流)
5. 新增一個新欄位TOTAL，其計算方式為SALARY*WORK YEARS，並列出TOTAL最高的5人
6. 請將這些人以所在地區(AREA)來進行分群

# CH9-0807 ggplot基本操作

- 安裝、載入ggplot

- 用 ggplot描繪點陣圖 (在後方加上 geom_point圖形種類 )

- 用 ggplot來描繪條狀圖與直方來描繪條狀圖與直方(在後方加上 geom_bar/histogram/col圖形種類)

- 直方圖 histogram只需定義 x軸(AGE)

- bar chart只需定義 x軸(AREA)

- column char，需將兩個方向的屬性定義好 

- 可以透過在 dplyr所講述到的 group_by、forward pipe(%>%)、summarise配合 col進行分析

- 用fill將細類屬性定義到fill

- 折線圖 (在後方加上 geom_line圖形種類 )

- 盒狀圖(在後方加上 geom_boxplot圖形種類 )

- grid.arrange( ):可一次繪畫多個圖形

- 用寫程式繪製直方圖；hist(向量名稱 ,xlab=”名稱 ”,col=’’顏色 ’’,”border=”邊界顏色 ”)


#作業
1. 請載入表格 hw9
2. 請利用 ggplot描繪出一散佈圖描繪出一散佈圖 (point)，其中 x軸為年紀 (AGE)，
   #y軸為薪水(SALARY)，並用隊伍 (TEAM)進行顏色區別

3. 利用 ggplot描繪出一直方圖(histogram)來顯示此表格中年齡的分布 (AGE)
4. 利用 ggplot描繪出一長條圖(bar chart)來顯示此表格中隊伍的分布 (TEAM)
5. 利用ggplot結合 dplyr套件的功能 (group_by、summarise、%>%)描繪出一條狀圖 (column)，
   #來顯示此表格中不同性別 (GENDER)，也就是男性 (M)和女性 和女性 (F)的平均薪資 (mean(SALARY))

6. 利用 ggplot描繪出一盒狀圖(boxplot)，表示「不同隊伍 (TEAM)」的年齡 (AGE)分布，
   #並以不同顏色區別隊伍 (TEAM)

7. 將 2~6題所要求的圖形用 grid.arrange( )一次展示出

# 暑期總複習-0812

#向量（Vector）
- 請建立一個數字向量 vec，其內容為 1 到 5。

- 從向量 vec 中取出第二個元素。

- 在向量 vec 的末尾新增數字 6。

- 將向量 vec 中的每個元素加 1。

- 計算向量 vec 中所有元素的總和。


#因子（Factor）
- 請建立一個因子 factor_var，其內容為 Male, Female, Female, Male。

- 從因子 factor_var 中取出第二個元素。

- 檢查因子 factor_var 的類別（levels）。

- 列表（List）
1. 請建立一個列表 lst，其中包含 name = "John"，age = 25，以及 scores = c(90, 85, 88)。

1. 使用名稱索引取出列表 lst 中的 name。

1. 使用位置索引取出列表 lst 中的第一個元素。

1. 向列表 lst 中新增一個元素 gender = "Male"。


#矩陣（Matrix）
- 請建立一個 2 行 3 列的矩陣 matrix_data，其內容為 1 到 6。

- 取出矩陣 matrix_data 中第一行第二列的元素。

- 在矩陣 matrix_data 中新增一行，內容為 7, 8, 9。

- 在矩陣 matrix_data 中新增一列，內容為 10, 11。


#陣列（Array）
- 請建立一個 2x3x2 的陣列 array_data，其內容為 1 到 12。

- 取出陣列 array_data 中第一層第二行第二列的元素。


#Data Frame
- 請建立一個 Data Frame df，其中包含 Name 為"John", "Mary"，Age為25, 30，Gender 為"Male", "Female"

- 從 Data Frame df 中取出 Name 列。

- 取出 Data Frame df 的第一行。

- 向 Data Frame df 中新增一個欄位 Salary，其內容為 50000 和 60000。

- 將 Data Frame df 中的 Age 列名稱更改為 Age_Years。


#基本運算
- 設定兩個變數 x = 5 和 y = 10，計算它們的和並存入變數 z。

- 比較 z 是否大於 y，並將結果存入變數 is_greater。


#邏輯控制
- if-else 結構
- 設定變數 a = 6，使用 if-else 結構來打印相應的季節名稱。
#(1~3月為春天；4~6月為夏天；7~9月為秋天；10~12月為冬天。)

- switch結構
#使用 switch 函數，根據輸入的數字 3 返回相應的季節名稱。

- 迴圈
1. 使用 for 迴圈印出 1 到 5 的數字。
2. 使用 while 迴圈印出 1 到 5 的數字。

#dplyr 基本操作
- 創建資料框 df (詳見講義)

- 進行各種操作
1. 選擇 Name 和 Age 欄位

2. 篩選出 Age 大於 25 的資料

3. 新增一個 Tax 欄位，計算 Salary 的 10%

4. 彙總，計算平均薪資

5. 根據 Gender 分組

6. 根據 Age 排序

7. 使用 %>% 管道操作符將篩選、分組和彙總操作串聯起來，計算 Age 大於 25 且按 Gender 分組的平均薪資。

#ggplot2 資料視覺化

- ggplot2 基本操作

- 使用 ggplot2 繪製 Age 和 Salary 的點圖（scatter plot）。

- 繪製 Age 的直方圖（histogram）。

- 繪製 Gender 和 Salary 的條狀圖（bar plot）。

- 繪製 Age 和 Salary，並按 Gender 區分顏色的折線圖（line plot）。

- 繪製 Gender 和 Salary 的盒狀圖（boxplot）。

- 使用 color 和 fill 屬性分別繪製 Gender 的條狀圖。

#圖表組合
- 使用 gridExtra 套件將以上圖表排列在一起顯示。





